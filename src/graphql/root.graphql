scalar Date
scalar ObjectId

type Query {
  health: String!
  habits: [Habit]!
  habit(id: ObjectId!): Habit
}

type Mutation {
  createHabit(input: CreateHabit!): Habit!
  logHabit(habitId: ObjectId!, status: Status): LogHabit!
}

union LogHabit = HabitLog | HabitLogAlreadyExists | HabitNotFoundError

enum Status {
  COMPLETED
  FAILED
}

enum Regularity {
  DAILY
  WEEKLY
  MONTHLY
}

input CreateHabit {
  title: String!
  description: String
  regularity: Regularity
}

type Habit {
  id: ObjectId!
  title: String!
  description: String
  regularity: Regularity
  createdAt: Date!
  logs: [HabitLog!]!
}

type HabitLog {
  id: ObjectId!
  habitId: ObjectId!
  status: Status
  createdAt: Date!
}

type HabitLogAlreadyExists {
  logId: ObjectId
  message: String!
}

type InvalidInputError {
  field: String!
  message: String!
}

type HabitNotFoundError {
  habitId: ObjectId!
  message: String!
}
